---
layout: custom
title: Dialogic
permalink: /dialogic/
---

<style>
.answer {
    
}
.question {
    color: #444;
}
.info {
    color: #888;
}
input {
    border: none;
    padding: none;
    font-size: 1.25rem;
    line-height: 1.8;
    outline: none;
    color: #444;
}
p {
    margin-bottom: 0;
}
</style>

<span class="right">
	<small id="version"></small>
</span>

<span id="dialog">
	<p id="1" class="answer"></p>
	<!-- <p id="2" class="question"></p> -->
    <input></input>
</span>

<script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
<script src="https://raw.githubusercontent.com/mattboldt/typed.js/master/js/typed.js"></script>
<script>
    $(function(){
        var msg_id = 1;
        $("#1").typed({
            strings: ["Hello world"],
            typeSpeed: 0, // typing speed
            backSpeed: 0, // backspacing speed
            startDelay: 2000, // time before typing starts
            backDelay: 500, // pause before backspacing
            loop: false, // loop on or off (true or false)
            loopCount: false, // number of loops, false = infinite
            showCursor: false,
            attr: null, // attribute to type, null = text for everything except inputs, which default to placeholder
            callback: function(){ } // call function after typing is done
        });
        $.ajax({
            url: 'http://dialog-instance.herokuapp.com/version',
            success: function (data, textStatus, jqXHR) {
                var object = $.parseJSON(data);
                $("#version").html(object.version+" @ "+object.data);
                // $('#version').addClass('animated bounceOutLeft');
            }, error: function(jqXHR, textStatus, errorThrown) {
                //Error handling code
                alert('Oops there was an error');
            }
        });
        $('input').focus();
        function updateDialog() {
            $.ajax({
                url: 'http://dialog-instance.herokuapp.com/',
                success: function (data, textStatus, jqXHR) {
                    var object = $.parseJSON(data);
                    object.messages.forEach(function(message) {
                        msg_id = msg_id + 1;
                        var new_msg = '<p id="'+msg_id+'" class="'+message.type+'">'+message.content+'</p>';
                        $('#dialog').append(new_msg);
                    });
                }, error: function(jqXHR, textStatus, errorThrown) {
                    //Error handling code
                    alert('Oops there was an error');
                }
            });
        }
        setTimeout(updateDialog, 2000);
    });
</script>
